<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pay Gap by Industry</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        canvas {
            max-width: 900px;
            max-height: 500px;
            width: 900px;
            height: 500px;
            margin: 20px auto;
            display: block;
        }
        .disclaimer {
            font-size: 14px;
            color: red;
            font-weight: bold;
            margin: 20px;
            padding: 10px;
            border: 1px solid red;
            background-color: #ffe6e6;
        }
    </style>
</head>
<body>
    <div class="disclaimer">
        DISCLAIMER: The data below is based off of only publicly disclosed data by large-scale employers using an unweighted mean, 
        that is all employers are treated equally despite number of employees, market share, etc. This is because the only data available 
        is that each firm has at least 250 employees. In the future, more study will perhaps be done to obtain weights for each firm based off of 
        limited headcount data, but not currently. This data should therefore be understood as suffering from these limitations.
    </div>

    <h1>Median Pay Gap by Industry</h1>
    <h2>2022</h2>
    <canvas id="chartMedian2022"></canvas>
    <h2>2023</h2>
    <canvas id="chartMedian2023"></canvas>
    <h2>2024</h2>
    <canvas id="chartMedian2024"></canvas>

    <h1>Mean Pay Gap by Industry</h1>
    <h2>2022</h2>
    <canvas id="chartMean2022"></canvas>
    <h2>2023</h2>
    <canvas id="chartMean2023"></canvas>
    <h2>2024</h2>
    <canvas id="chartMean2024"></canvas>

    <script>
        const payGapData = { ... };

        function createChart(year, chartId, dataType) {
            const ctx = document.getElementById(chartId).getContext('2d');
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: payGapData[year].labels,
                    datasets: [{
                        label: `${dataType === 'median' ? 'Median' : 'Mean'} Pay Gap (%)`,
                        data: payGapData[year][dataType],
                        backgroundColor: dataType === 'median' ? 'rgba(75, 192, 192, 0.6)' : 'rgba(255, 99, 132, 0.6)',
                        borderColor: dataType === 'median' ? 'rgba(75, 192, 192, 1)' : 'rgba(255, 99, 132, 1)',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: { 
                            ticks: { font: { size: 10 }, maxRotation: 45, minRotation: 30 }, 
                            barPercentage: 0.8, 
                            categoryPercentage: 0.9 
                        },
                        y: { beginAtZero: true, ticks: { font: { size: 12 } } }
                    },
                    plugins: {
                        legend: { display: false }
                    }
                }
            });
        }

        ["2022", "2023", "2024"].forEach(year => {
            createChart(year, `chartMedian${year}`, "median");
            createChart(year, `chartMean${year}`, "mean");
        });
    </script>
</body>
</html>

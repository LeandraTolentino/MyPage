<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Junior Certificate Materials – Balance Model</title>

<style>
body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    background-color: #f4f4f4;
}
.container {
    max-width: 800px;
    margin: auto;
    background: white;
    padding: 20px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
}

h1, h2 { text-align: center; }

.section { margin-bottom: 30px; }
.section h2 { border-bottom: 2px solid #333; padding-bottom: 5px; }

.ul2 {
    list-style-type: none;
    margin: 0;
    padding: 0;
    padding-bottom: 10px;
    background-color: #2c3e50;
    width: 100%;
    display: flow-root;
    position: relative;
}
.nav-item { float: left; }
.nav-item a, .dropbtn {
    display: inline-block;
    color: white;
    text-align: center;
    padding: 14px 16px 0 16px;
    text-decoration: none;
}
.nav-item a:hover, .dropdown:hover .dropbtn {
    background-color: #2c3e50;
}
.dropdown {
    display: inline-block;
    position: relative;
}
.dropdown-content {
    display: none;
    position: absolute;
    background-color: #f9f9f9;
    min-width: 160px;
    box-shadow: 0px 8px 16px rgba(0,0,0,0.2);
    z-index: 1;
}
.dropdown-content a {
    color: black;
    padding: 12px 16px;
    text-decoration: none;
    display: block;
    text-align: left;
}
.dropdown-content a:hover { background-color: #f1f1f1; }
.dropdown:hover .dropdown-content { display: block; }

/* ===== SCALE ===== */
.scale-wrapper {
    display: flex;
    justify-content: center;
    margin-top: 40px;
    position: relative;
}
.scale {
    position: relative;
    width: 520px;
    height: 300px;
}
.pivot {
    position: absolute;
    top: 130px;
    left: 50%;
    width: 20px;
    height: 20px;
    background: #333;
    border-radius: 50%;
    transform: translateX(-50%);
    z-index: 3;
}
.beam {
    position: absolute;
    top: 130px;
    left: 50%;
    width: 460px;
    height: 6px;
    background: #444;
    transform-origin: center center;
    transform: translateX(-50%) rotate(0deg);
    transition: transform 0.6s ease;
    z-index: 2;
}

/* Red expression labels */
.red-block {
    position: absolute;
    bottom: 100%;
    transform: translateY(-2px);
    min-width: 40px;
    height: 28px;
    padding: 2px 6px;
    background: #ff4c4c;
    border-radius: 4px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 12px;
    font-weight: bold;
    white-space: nowrap;
}
.red-left { left: 20px; }
.red-right { right: 20px; }

/* Pans */
.pan {
    position: absolute;
    width: 160px;
    min-height: 70px;
    background: #eee;
    border: 2px solid #333;
    border-radius: 8px;
    top: 200px;
    padding: 8px;
    text-align: center;
}
.pan.left { left: 0; }
.pan.right { right: 0; }

.expr-input {
    width: 90%;
    padding: 6px;
    font-size: 16px;
    text-align: center;
}

.caption {
    text-align: center;
    margin-top: 20px;
    font-style: italic;
}
</style>
</head>

<body>

<!-- ===== NAV BAR ===== -->
<ul class="ul2">
    <li class="nav-item"><a href="index.html">Home</a></li>
    <li class="nav-item dropdown">
        <a href="javascript:void(0)" class="dropbtn">Data Analytics Projects</a>
        <div class="dropdown-content">
            <a href="inflation-calc.html">ELO Inflation Calculator</a>
            <a href="gender-pay-gap.html">Analysis of PayGap.ie data</a>
        </div>
    </li>
    <li class="nav-item"><a href="OnLearningMathematics.html">Mathematics: Concrete or Abstract?</a></li>
    <li class="nav-item"><a href="junior-cert.html">Junior Certificate Materials</a></li>
</ul>

<div class="container">
    <h1>Linear Equations</h1>

    <div class="section">
        <h2>What is a Linear Equation?</h2>
        <p>A linear equation is an equation where the graph is a line with constant slope. It takes the form y = mx + c, where m is the slope and c is a constant.</p>
        <p>Remember from primary school that two sides of an equation: the left side and right side must be equal.</p>
        <p>Linear equations follow the same rule. However, remember that a variable can be any number! So x = 5 is okay.</p>
        <p>However x = x + 5 is not okay, because if we subtract the x we get 0 = 5. This is nonsense!</p>
    </div>

    <div class="section">
        <h2>Balance Model</h2>
        <p>One way to think about balancing the right and left side of an equation is to imagine them as weights on a scale. If we have 5 kilos on one side it will be heavier than 0 kilos on the other, the two sides are not equal.</p>
        <p>Let us now put two blocks on the scale. We can pick their weight, and see how the scale balances.</p>
        <p style="text-align:center;">
            Type an expression like <strong>x+3</strong> or <strong>2x−1</strong> into each pan.
        </p>

        <div class="scale-wrapper">
            <div class="scale">
                <div class="beam" id="beam">
                    <div class="red-block red-left" id="red-left">0</div>
                    <div class="red-block red-right" id="red-right">0</div>
                </div>
                <div class="pivot"></div>

                <div class="pan left" data-side="left">
                    <input class="expr-input" placeholder="e.g. x+3">
                </div>
                <div class="pan right" data-side="right">
                    <input class="expr-input" placeholder="e.g. 2x+1">
                </div>
            </div>
        </div>

        <div class="caption">
            The equation is balanced when the beam is level.
        </div>
    </div>
</div>

<script>
let sides = {
    left: { x: 0, c: 0 },
    right: { x: 0, c: 0 }
};

const beam = document.getElementById("beam");
const redLeft = document.getElementById("red-left");
const redRight = document.getElementById("red-right");

document.querySelectorAll(".expr-input").forEach(input => {
    input.addEventListener("input", () => {
        const side = input.parentElement.dataset.side;
        sides[side] = parseExpression(input.value);
        updateScale();
    });
});

function parseExpression(expr) {
    expr = expr.replace(/\s+/g, "");
    let x = 0, c = 0;

    const terms = expr.match(/[+-]?[^+-]+/g) || [];

    terms.forEach(term => {
        if (term.includes("x")) {
            let coeff = term.replace("x", "");
            if (coeff === "" || coeff === "+") coeff = 1;
            if (coeff === "-") coeff = -1;
            x += Number(coeff);
        } else {
            c += Number(term);
        }
    });

    return { x, c };
}

function updateScale() {
    const dx = sides.left.x - sides.right.x;
    const dc = sides.right.c - sides.left.c;

    let angle = 0;

    // ONLY tilt when x terms cancel
    if (dx === 0) {
        angle = Math.max(-12, Math.min(12, dc * 3));
    }

    beam.style.transform = `translateX(-50%) rotate(${angle}deg)`;

    redLeft.textContent = formatSide(sides.left);
    redRight.textContent = formatSide(sides.right);
}


function formatSide(side) {
    let parts = [];

    if (side.x !== 0) {
        parts.push(side.x === 1 ? "x" :
                   side.x === -1 ? "-x" :
                   `${side.x}x`);
    }

    if (side.c !== 0) {
        parts.push(side.c > 0 ? `+ ${side.c}` : `- ${Math.abs(side.c)}`);
    }

    return parts.length ? parts.join(" ") : "0";
}
</script>

</body>
</html>
